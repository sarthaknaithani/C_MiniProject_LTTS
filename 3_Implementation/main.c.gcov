        -:    0:Source:main.c
        -:    1:#include "inc/backend.h"
        -:    2:#include "inc/frontend.h"
        -:    3:#include <ncurses.h>
        -:    4:
        1:    5:int main() {
        1:    6:  initscr();
        1:    6-block  0
        1:    7:  cbreak();
        1:    8:  noecho();
        1:    9:  keypad(stdscr, TRUE); // make keys work
        1:   10:  curs_set(0); // hide cursor
        1:   11:  timeout(100);
        -:   12:
        -:   13:  int xmax;
        -:   14:  int ymax;
       1*:   15:  getmaxyx(stdscr, ymax, xmax);
        1:   15-block  0
    %%%%%:   15-block  1
        1:   15-block  2
        1:   15-block  3
    %%%%%:   15-block  4
        1:   16:  enum Direction dir = RIGHT;
        -:   17:
        1:   18:  Board* board = create_board(create_snake(), NULL, xmax, ymax);
        1:   18-block  0
        -:   19:  int i;
        7:   20:  for (i = 0; i < 6; i++) {
        7:   20-block  0
        6:   21:    add_new_food(board);
        6:   21-block  0
        -:   22:  }
        -:   23:
       22:   24:  while(true) {
       22:   24-block  0
       23:   25:    clear();
       23:   25-block  0
       23:   26:    display_points(board->snake, ACS_BLOCK);
       23:   27:    display_points(board->foods, ACS_DIAMOND);
       23:   28:    refresh();
       23:   29:    dir = get_next_move(dir);
       23:   30:    enum Status status = move_snake(board, dir);
       23:   31:    if (status == FAILURE) break;
        1:   31-block  0
        -:   32:  }
        1:   33:  endwin();
        1:   33-block  0
        -:   34:
        1:   35:  return 0;
        -:   36:}
